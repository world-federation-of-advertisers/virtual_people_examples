name: "root"
branch_node {
  branches {
    condition {
      op: TRUE
    }
    node {
        name: "cookied"
        branch_node {
          branches {
            condition {
              op: TRUE
            }
            node {
              name: "cookied_pool"
                branch_node {
                  branches {
                    condition {
                     op: TRUE
                    }
                    node {
                      name: "cookied_pool-GB"
                      branch_node {
                        branches {
                          condition {
                           op: TRUE
                          }
                          node {
                            name: "cookied_pool-GB-phone"
                            branch_node {
                              branches {
                                condition {
                                  op: AND
                                   sub_filters {
                                    name: "corrected_demo.age.min_age"
                                    op: EQUAL
                                    value: "18"
                                  }
                                   sub_filters {
                                    name: "corrected_demo.age.max_age"
                                    op: EQUAL
                                    value: "24"
                                  }
                                   sub_filters {
                                    name: "corrected_demo.gender"
                                    op: EQUAL
                                    value: "2"
                                  }
                                }
                                node {
                                  name: "cookied_pool-GB-phone-Demo Bucket - F18-24"
                                  branch_node {
                                     random_seed: "branch_node_random_seed"
                                    branches {
                                      chance: 0.1930248
                                      node{
                                        population_node {
                                          pools {
                                            population_offset: 11000000000
                                            total_population: 30478
                                          }
                                        }

                                      }
                                    }
                                    branches {
                                      chance: 0.5157664
                                      node {
                                        population_node {
                                          pools {
                                            population_offset: 11000030478
                                            total_population: 81437
                                          }
                                        }
                                      }
                                    }
                                    branches {
                                      chance: 0.24120784999999997
                                      node {
                                        population_node {
                                          pools {
                                            population_offset: 11000111915
                                            total_population: 38085
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
            }
          }
          updates {
            updates{
              conditional_merge {
                pass_through_non_matches: True
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "2"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "18"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "24"
                      }
                   }
                   update {
                      acting_demo_id_space: "phone"
                      acting_demo {
                         gender: 2
                         age {
                          min_age: 18
                          max_age: 24
                         }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "2"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "25"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "34"
                      }
                   }
                   update {
                      acting_demo_id_space: "phone"
                      acting_demo {
                        gender: 2
                        age {
                          min_age: 25
                          max_age: 34
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "2"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "35"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "99"
                      }
                   }
                   update {
                      acting_demo_id_space: "phone"
                      acting_demo {
                        gender: 2
                        age {
                          min_age: 35
                          max_age: 99
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "1"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "18"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "24"
                      }
                   }
                   update {
                      acting_demo_id_space: "phone"
                      acting_demo {
                        gender: 1
                        age {
                          min_age: 18
                          max_age: 24
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "1"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "25"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "34"
                      }
                   }
                   update {
                      acting_demo_id_space: "phone"
                      acting_demo {
                        gender: 1
                        age {
                          min_age: 25
                          max_age: 34
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "1"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "35"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.phone_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "99"
                      }
                   }
                   update {
                      acting_demo_id_space: "phone"
                      acting_demo {
                        gender: 1
                        age {
                          min_age: 35
                          max_age: 99
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "2"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "18"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "24"
                      }
                   }
                   update {
                      acting_demo_id_space: "email"
                      acting_demo {
                        gender: 2
                        age {
                          min_age: 18
                          max_age: 24
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "2"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "25"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "34"
                      }
                   }
                   update {
                      acting_demo_id_space: "email"
                      acting_demo {
                        gender: 2
                        age {
                          min_age: 25
                          max_age: 34
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "2"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "35"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "99"
                      }
                   }
                   update {
                      acting_demo_id_space: "email"
                      acting_demo {
                        gender: 2
                        age {
                          min_age: 35
                          max_age: 99
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "1"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "18"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "24"
                      }
                   }
                   update {
                      acting_demo_id_space: "email"
                      acting_demo {
                        gender: 1
                        age {
                          min_age: 18
                          max_age: 24
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "1"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "25"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "34"
                      }
                   }
                   update {
                      acting_demo_id_space: "email"
                      acting_demo {
                        gender: 1
                        age {
                          min_age: 25
                          max_age: 34
                        }
                      }
                   }
                }
                nodes {
                   condition {
                      op: AND
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.gender"
                         op: EQUAL
                         value: "1"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.min_age"
                         op: EQUAL
                         value: "35"
                      }
                      sub_filters {
                         name: "labeler_input.profile_info.email_user_info.demo.demo_bucket.age.max_age"
                         op: EQUAL
                         value: "99"
                      }
                   }
                   update {
                      acting_demo_id_space: "email"
                      acting_demo {
                        gender: 1
                        age {
                          min_age: 35
                          max_age: 99
                        }
                      }
                   }
                }
              }
            }
            updates{
              update_matrix {
               random_seed: "updater_matrix_random_seed"
              columns {
                 person_country_code: "GB"
                 acting_demo {
                    gender: 2
                    age {
                      min_age: 18
                      max_age: 24
                    }
                 }
              }
              columns {
                 person_country_code: "GB"
                 acting_demo {
                    gender: 2
                    age {
                      min_age: 25
                      max_age: 34
                    }
                 }
              }
              columns {
                 person_country_code: "GB"
                 acting_demo {
                    gender: 2
                    age {
                      min_age: 35
                      max_age: 99
                    }
                 }
              }
              columns {
                 person_country_code: "GB"
                 acting_demo {
                    gender: 1
                    age {
                      min_age: 18
                      max_age: 24
                    }
                 }
              }
              columns {
                 person_country_code: "GB"
                 acting_demo {
                    gender: 1
                    age {
                      min_age: 25
                      max_age: 34
                    }
                 }
              }
              columns {
                 person_country_code: "GB"
                 acting_demo {
                    gender: 1
                    age {
                      min_age: 35
                      max_age: 99
                    }
                 }
              }
              columns {
                 person_country_code: "US"
                 acting_demo {
                    gender: 2
                    age {
                      min_age: 18
                      max_age: 24
                    }
                 }
              }
              columns {
                 person_country_code: "US"
                 acting_demo {
                    gender: 2
                    age {
                      min_age: 25
                      max_age: 34
                    }
                 }
              }
              columns {
                 person_country_code: "US"
                 acting_demo {
                    gender: 2
                    age {
                      min_age: 35
                      max_age: 99
                    }
                 }
              }
              columns {
                 person_country_code: "US"
                 acting_demo {
                    gender: 1
                    age {
                      min_age: 18
                      max_age: 24
                    }
                 }
              }
              columns {
                 person_country_code: "US"
                 acting_demo {
                    gender: 1
                    age {
                      min_age: 25
                      max_age: 34
                    }
                 }
              }
              columns {
                 person_country_code: "US"
                 acting_demo {
                    gender: 1
                    age {
                      min_age: 35
                      max_age: 99
                    }
                 }
              }
              rows {
                 corrected_demo {
                    gender: 1
                    age {
                      min_age: 18
                      max_age: 24
                    }
                 }
              }
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              probabilities: 1.0
              pass_through_non_matches: True
              }
            }
          }
        }
      }
  }
}